{"version":3,"sources":["paperSelect.tsx"],"names":["PaperSelect","label","arrayList","selectedArrayList","multiEnable","value","onSelection","disabled","hideSearchBox","selectAllEnable","textInputMode","theme","themeOverrides","inputRef","limit","limitError","limitErrorStyle","dialogTitle","selectAllText","searchText","dialogCloseButtonText","dialogDoneButtonText","errorText","containerStyle","textInputStyle","textInputOutlineStyle","dialogStyle","dialogTitleStyle","searchStyle","dialogCloseButtonStyle","dialogDoneButtonStyle","errorStyle","textColor","textInputProps","textInputPropOverrides","checkboxProps","checkboxPropsOverrides","searchbarProps","searchbarPropsOverrides","underlineColor","activeUnderlineColor","outlineColor","activeOutlineColor","left","right","styles","textInputIcon","height","Dimensions","get","searchKey","setSearchKey","arrayHolder","setArrayHolder","list","setList","selectedList","setSelectedList","maxLimit","setMaxLimit","length","hasDisabled","setHasDisabled","showLimitError","setShowLimitError","selfInputRef","selectInputRef","visible","setVisible","isMounted","_getData","setTimeout","showDialog","_hideDialog","data","selectedData","finalText","forEach","val","index","el","_id","text","current","blur","_closeDialog","_onFocus","_checkIfAnyItemDisabled","_onChecked","item","indexSelected","findIndex","splice","push","_onCheckedSingle","_exists","_temp","find","_isCheckedAll","_checkAll","slice","_renderItem","_filterFunction","newData","filter","toLowerCase","includes","_list","result","x","container","textInput","undefined","color","colors","error","dialog","paddingHorizontal","searchbar","toString","dialogScrollView","maxHeight","marginBottom","StyleSheet","create","width","borderRadius","justifyContent","alignItems","alignSelf","alignContent","borderColor","backgroundColor","borderWidth","marginHorizontal","marginTop"],"mappings":"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","sourcesContent":["/* eslint-disable react-native/no-inline-styles */\nimport React, { memo, useEffect, useRef, useState } from 'react';\nimport { View, StyleSheet, Dimensions, FlatList } from 'react-native';\nimport {\n  TextInput,\n  Button,\n  Dialog,\n  Portal,\n  Searchbar,\n  ThemeProvider,\n  useTheme,\n  Text,\n} from 'react-native-paper';\nimport CheckboxInput from '../components/checkBox';\nimport type {\n  ListItem,\n  PaperSelectProps,\n  PaperSelectTextInputProps,\n} from '../interface/paperSelect.interface';\nimport type { InternalTheme } from 'react-native-paper/lib/typescript/src/types';\n\nconst PaperSelect = ({\n  // Required props\n  label,\n  arrayList,\n  selectedArrayList,\n  multiEnable,\n  value,\n  onSelection,\n\n  // Core props\n  disabled = false,\n  hideSearchBox = false,\n  selectAllEnable = true,\n  textInputMode = 'flat',\n  theme: themeOverrides,\n  inputRef,\n  limit = null,\n  limitError = `You can't select more than ${limit} items.`,\n  limitErrorStyle,\n\n  // Localization props\n  dialogTitle,\n  selectAllText = 'Select all',\n  searchText = 'Search',\n  dialogCloseButtonText = 'Close',\n  dialogDoneButtonText = 'Done',\n  errorText,\n\n  // Style props\n  containerStyle,\n  textInputStyle,\n  textInputOutlineStyle,\n  dialogStyle,\n  dialogTitleStyle,\n  searchStyle,\n  dialogCloseButtonStyle,\n  dialogDoneButtonStyle,\n  errorStyle,\n  textColor,\n\n  // Component props\n  textInputProps: textInputPropOverrides,\n  checkboxProps: checkboxPropsOverrides,\n  searchbarProps: searchbarPropsOverrides,\n}: PaperSelectProps) => {\n  const theme = useTheme<InternalTheme>(themeOverrides);\n\n  const textInputProps: PaperSelectTextInputProps = {\n    underlineColor: textInputPropOverrides?.underlineColor || 'black',\n    activeUnderlineColor:\n      textInputPropOverrides?.activeUnderlineColor || 'black',\n    outlineColor: textInputPropOverrides?.outlineColor || 'black',\n    activeOutlineColor: textInputPropOverrides?.activeOutlineColor || 'black',\n    left: textInputPropOverrides?.left,\n    right: textInputPropOverrides?.right ?? (\n      <TextInput.Icon\n        style={styles.textInputIcon}\n        size={20}\n        icon=\"chevron-down\"\n      />\n    ),\n  };\n\n  const { height } = Dimensions.get('window');\n\n  const [searchKey, setSearchKey] = useState<string>('');\n\n  const [arrayHolder, setArrayHolder] = useState<Array<ListItem>>([\n    ...arrayList,\n  ]);\n  const [list, setList] = useState<Array<ListItem>>([...arrayList]);\n  const [selectedList, setSelectedList] = useState<Array<ListItem>>([\n    ...selectedArrayList,\n  ]);\n\n  const [maxLimit, setMaxLimit] = useState<number>(list.length);\n\n  const [hasDisabled, setHasDisabled] = useState<boolean>(false);\n\n  const [showLimitError, setShowLimitError] = useState<boolean>(false);\n\n  const selfInputRef = useRef<any>(null);\n  const selectInputRef = inputRef ?? selfInputRef;\n\n  const [visible, setVisible] = useState<boolean>(false);\n\n  useEffect(() => {\n    let isMounted = true;\n    let _getData = async () => {\n      if (isMounted && showLimitError) {\n        setTimeout(() => {\n          setShowLimitError(false);\n        }, 10000);\n      }\n    };\n\n    _getData();\n    return () => {\n      isMounted = false;\n    };\n  }, [showLimitError]);\n\n  const showDialog = () => setVisible(true);\n\n  const _hideDialog = () => {\n    setSearchKey('');\n    var data: Array<ListItem> = [...arrayHolder];\n    // console.log(selectedList);\n    var selectedData: Array<ListItem> = [...selectedList];\n    // console.log(selectedData);\n    let finalText: string = '';\n    selectedData.forEach((val, index) => {\n      data.forEach((el) => {\n        if (val._id === el._id) {\n          finalText +=\n            index !== selectedData.length - 1 ? `${el.value}, ` : `${el.value}`;\n        }\n      });\n    });\n\n    onSelection({\n      text: finalText,\n      selectedList: selectedData,\n    });\n\n    setVisible(false);\n\n    if (selectInputRef && selectInputRef.current) {\n      selectInputRef.current.blur();\n    }\n  };\n\n  const _closeDialog = () => {\n    setVisible(false);\n    setSearchKey('');\n    if (selectInputRef && selectInputRef.current) {\n      selectInputRef.current.blur();\n    }\n  };\n\n  const _onFocus = () => {\n    setArrayHolder([...arrayList]);\n    setList([...arrayList]);\n    setMaxLimit([...arrayList].length);\n    setHasDisabled(_checkIfAnyItemDisabled([...arrayList]));\n    setSelectedList([...selectedArrayList]);\n    showDialog();\n  };\n\n  const _onChecked = (item: any) => {\n    var selectedData = [...selectedList];\n    // const index = data.findIndex(x => x._id === item._id);\n    const indexSelected = selectedData.findIndex((val) => val._id === item._id);\n    if (indexSelected > -1) {\n      selectedData.splice(indexSelected, 1);\n    } else {\n      if (limit && selectedData.length === limit) {\n        setShowLimitError(true);\n      } else {\n        setShowLimitError(false);\n        selectedData.push(item);\n      }\n    }\n    setSelectedList([...selectedData]);\n  };\n\n  const _onCheckedSingle = (item: any) => {\n    var selectedData = [...selectedList];\n    // const index = data.findIndex(x => x._id === item._id);\n    const indexSelected = selectedData.findIndex((val) => val._id === item._id);\n    if (indexSelected > -1) {\n      // selectedData.splice(indexSelected, 1);\n      selectedData = [];\n    } else {\n      selectedData = [];\n      selectedData.push(item);\n    }\n    // console.log(selectedData);\n    setSelectedList([...selectedData]);\n  };\n\n  const _exists = (item: any) => {\n    // console.log(selectedList);\n    let _temp = [...selectedList];\n    return _temp.find((val: any) => val._id === item._id) ? true : false;\n  };\n\n  const _isCheckedAll = () => {\n    const data = [...list];\n    const selectedData = [...selectedList];\n    return selectedData.length !== 0 && selectedData.length === data.length;\n  };\n\n  const _checkAll = () => {\n    const data = [...list];\n    var selectedData = [...selectedList];\n    if (selectedData.length === data.length) {\n      selectedData = [];\n    } else if (selectedData.length === 0 || selectedData.length > 0) {\n      selectedData = data.slice(0);\n    }\n\n    setSelectedList([...selectedData]);\n  };\n\n  const _renderItem = ({ item }: { item: ListItem }) => (\n    <CheckboxInput\n      {...checkboxPropsOverrides}\n      isChecked={_exists(item)}\n      label={item.value}\n      onPress={() => {\n        multiEnable === true ? _onChecked(item) : _onCheckedSingle(item);\n      }}\n      disabled={item.disabled}\n    />\n  );\n\n  const _filterFunction = (text: string) => {\n    setSearchKey(text);\n    const newData = arrayHolder.filter((item) =>\n      item.value.toLowerCase().includes(text.toLowerCase())\n    );\n    setList(newData);\n  };\n\n  const _checkIfAnyItemDisabled = (_list: Array<ListItem>) => {\n    const data = [..._list];\n    let result = data.find((x) => x.disabled);\n    return result ? true : false;\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <View style={[styles.container, containerStyle]}>\n        <TextInput\n          {...textInputProps}\n          ref={selectInputRef}\n          disabled={disabled}\n          style={[styles.textInput, textInputStyle]}\n          outlineStyle={textInputOutlineStyle}\n          label={label}\n          mode={textInputMode}\n          onFocus={disabled ? undefined : _onFocus}\n          showSoftInputOnFocus={false}\n          value={value}\n          textColor={textColor}\n        />\n        {errorText ? (\n          <Text\n            style={[\n              {\n                color: theme.colors.error,\n              },\n              errorStyle,\n            ]}\n          >\n            {errorText}\n          </Text>\n        ) : null}\n      </View>\n\n      <View>\n        <Portal>\n          <Dialog\n            style={[styles.dialog, dialogStyle]}\n            visible={visible}\n            dismissable={false}\n          >\n            <Dialog.Title style={dialogTitleStyle}>\n              {dialogTitle ?? label}\n            </Dialog.Title>\n            <Dialog.ScrollArea style={{ paddingHorizontal: 14 }}>\n              {!hideSearchBox ? (\n                <Searchbar\n                  {...searchbarPropsOverrides}\n                  value={searchKey}\n                  placeholder={searchText}\n                  onChangeText={(text: string) => _filterFunction(text)}\n                  style={[styles.searchbar, searchStyle]}\n                />\n              ) : null}\n\n              {/* <ScrollView\n                style={\n                  (styles.dialogScrollView,\n                    { maxHeight: height - (height * 40) / 100, marginBottom: 8 })\n                }\n                keyboardShouldPersistTaps=\"handled\"\n              >\n                {multiEnable === true\n                  ? _renderListForMulti()\n                  : _renderListForSingle()}\n              </ScrollView> */}\n              <FlatList\n                ListHeaderComponent={\n                  multiEnable === true && selectAllEnable === true ? (\n                    <CheckboxInput\n                      {...checkboxPropsOverrides}\n                      isChecked={_isCheckedAll()}\n                      label={selectAllText}\n                      onPress={() => {\n                        _checkAll();\n                      }}\n                      disabled={\n                        hasDisabled ||\n                        (limit && limit > 0 && limit !== maxLimit)\n                          ? true\n                          : false\n                      }\n                    />\n                  ) : null\n                }\n                data={list}\n                renderItem={_renderItem}\n                keyExtractor={(item) => item._id.toString()}\n                keyboardShouldPersistTaps=\"handled\"\n                style={\n                  (styles.dialogScrollView,\n                  {\n                    maxHeight: height - (height * 45) / 100,\n                    marginBottom: 8,\n                  })\n                }\n              />\n              {showLimitError ? (\n                <Text\n                  style={[\n                    {\n                      color: theme.colors.error,\n                    },\n                    limitErrorStyle,\n                  ]}\n                >\n                  {limitError}\n                </Text>\n              ) : null}\n            </Dialog.ScrollArea>\n            <Dialog.Actions>\n              <Button\n                labelStyle={dialogCloseButtonStyle}\n                onPress={_closeDialog}\n              >\n                {dialogCloseButtonText}\n              </Button>\n              <Button labelStyle={dialogDoneButtonStyle} onPress={_hideDialog}>\n                {dialogDoneButtonText}\n              </Button>\n            </Dialog.Actions>\n          </Dialog>\n        </Portal>\n      </View>\n    </ThemeProvider>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    width: '100%',\n    marginBottom: 10,\n  },\n  dialog: {\n    borderRadius: 5,\n  },\n  dialogScrollView: {\n    width: '100%',\n  },\n  textInput: {\n    // backgroundColor: '#fff',\n    // color: '#000',\n  },\n  textInputIcon: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    alignSelf: 'center',\n    alignContent: 'center',\n  },\n  searchbar: {\n    borderColor: '#777777',\n    backgroundColor: '#F1F1F2',\n    borderWidth: 0.25,\n    marginBottom: 10,\n    marginHorizontal: 8,\n    color: '#000',\n    marginTop: 12,\n  },\n});\n\nexport default memo(PaperSelect);\n"]}